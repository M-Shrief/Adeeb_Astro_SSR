---
// Layout
import Layout from "../../../layouts/Layout.astro";
// Partials
import PartnerHistory from "../../../layouts/partials/PartnerHistory.vue";
// Components
import HttpPopUp from "../../../components/notifications/HttpPopUp.vue";
// UI
import { ui } from '../../../i18n/ui'
// to force server side rendering to read the cookie.
export const prerender = false;

const isAuthenticated = Astro.cookies.has('accessToken')
if (!isAuthenticated) return Astro.redirect("/partners/auth");
---

<Layout title={ui.en.partners.history.layoutTitle} description={ui.en.partners.history.layoutDesc}>
  <HttpPopUp client:idle slot="http-popup"/>
  <PartnerHistory currentLocale="en" client:idle />
</Layout>
