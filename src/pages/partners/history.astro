---
// Layout
import Layout from "../../layouts/Layout.astro";
// Client Page
import PartnerHistory from "../../clientPages/PartnerHistory.vue";
// Components
import HttpPopUp from "../../components/notifications/HttpPopUp.vue";

// to force server side rendering to read the cookie.
export const prerender = false;

const isAuthenticated = Astro.cookies.has('accessToken')
if (!isAuthenticated) return Astro.redirect("/partners/auth");
---

<Layout title="أديب :: مراجعة الطلبات" description="Check your ordering history">
  <HttpPopUp client:idle slot="http-popup"/>
  <PartnerHistory client:idle />
</Layout>
